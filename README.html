<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Asterisk Transcribe and Act &#8212; TRACT v0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=8dfa3f53" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script src="_static/documentation_options.js?v=34cd777e"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">TRACT v0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Asterisk Transcribe and Act</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="asterisk-transcribe-and-act">
<h1>Asterisk Transcribe and Act<a class="headerlink" href="#asterisk-transcribe-and-act" title="Link to this heading">¶</a></h1>
<p>This software aims to design a service that transcribe and act based on keywords from an audio conversation backed by the asterisk VoIP solution.</p>
<p>There is two possibilities for this to work, the first is to mount the monitor folder read only in a docker container, the second is to run the project as is.</p>
<p>This software is provided as is, without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose, and non-infringement. In no event shall the authors or copyright holders be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the software or the use or other dealings in the software.</p>
<p>This project does not aim to teach you to deploy you own asterisk server, you will need a working asterisk server with monitoring enable for this project to work, please refer to <a class="reference external" href="https://www.asterisk.org/get-started/">Asterisk</a> documentation if you need help deploying your own asterisk server.</p>
<p>This project is composed of two parts:</p>
<ul class="simple">
<li><p>run.py is an entrypoint for a transcriber that transcribes a conversation between two users (INbound and OUTbound) and sends the transcript to our mission planner based on a keyword detection and after waiting some time (1 minute by default)</p></li>
<li><p>agi_script directly uses the asterisk.ami library to plug onto an audio conference, transcribe and send the request to the mission planner, it does not support parallel audio conferences for now.</p></li>
</ul>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h2>
<p>Listener on the monitor folder (customizable in the config file) with watchdog</p>
<p>Creates a tmp folder associated with the conversation as long as the file keeps being updated for the past minute.</p>
<p>Archives everything under asterisk folder, content of the folder include a copy of the audio files as well as two separate transcript files. and a unified transcription</p>
<p>Plug the unified transcription on a web interface</p>
<p>Docker container can be plugged in read mode on asterisk monitor folder for process isolation.</p>
</section>
<section id="todo">
<h2>Todo<a class="headerlink" href="#todo" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Generate a web page (frontend similar to a chat interface) to review transcriptions</p></li>
<li><p>Parse transcription to support actions</p></li>
<li><p>Document</p></li>
<li><p>Signal processing to support callout and reduce processing needs, and support interruption (Complex task, don’t underestimate)</p></li>
</ul>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h3>
<p>What things you need to install the software and how to install them:</p>
<ul class="simple">
<li><p>python3</p></li>
<li><p>pip</p></li>
<li><p>ffmpeg (for the audio processing (both this project and openai-whisper))</p></li>
<li><p>espeak</p></li>
</ul>
<p>Also, for optional dependencies:</p>
<ul class="simple">
<li><p>virtualenv</p></li>
<li><p>Docker (optional for containerization)</p></li>
</ul>
</section>
<section id="running-this-project">
<h3>Running this project<a class="headerlink" href="#running-this-project" title="Link to this heading">¶</a></h3>
<p>Install the packages from requirements.txt, customize the config.yaml, run with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">run</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>With Docker, edit config.yaml, if necessary, build with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">asterisk</span><span class="o">-</span><span class="n">transcribe</span><span class="o">-</span><span class="ow">and</span><span class="o">-</span><span class="n">act</span> <span class="o">.</span>
</pre></div>
</div>
<p>run with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker run -v $(ASTERISK_FOLDER):$(ASTERISK_FOLDER_FROM_CONFIG) asterisk-transcribe-and-act:latest
</pre></div>
</div>
</section>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¶</a></h2>
<p>This project does not accept exterior contributions for now.</p>
</section>
<section id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Link to this heading">¶</a></h2>
<p>Antoine <a class="reference external" href="https://github.com/spiderweak/">Spiderweak</a> BERNARD</p>
<p>David Communier</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Link to this heading">¶</a></h2>
<p>Unless part of the system is incompatible with it, consider this project under CC BY-NC-SA and mostly used for research purposes and teaching.</p>
</section>
<section id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Link to this heading">¶</a></h2>
<p>Thanks to these project, that make most of the project run:</p>
<ul class="simple">
<li><p>OpenAI for the Whisper model and for the disclaimer in the opening statement of this README.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Asterisk Transcribe and Act</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#todo">Todo</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#running-this-project">Running this project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#contributing">Contributing</a></li>
<li><a class="reference internal" href="#authors">Authors</a></li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/README.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">TRACT v0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Asterisk Transcribe and Act</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Antoine BERNARD, David Communier.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>